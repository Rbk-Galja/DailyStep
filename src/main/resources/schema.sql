CREATE TABLE IF NOT EXISTS categories (
id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
name VARCHAR UNIQUE NOT NULL
);

CREATE TABLE IF NOT EXISTS childrens (
id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
name VARCHAR UNIQUE NOT NULL
);

CREATE TABLE IF NOT EXISTS category_children (
parent_id BIGINT REFERENCES categories(id) NOT NULL ON DELETE CASCADE,
children_id BIGINT REFERENCES childrens(id) NOT NULL,
PRIMARY KEY (parent_id, children_id)
);

CREATE TABLE IF NOT EXISTS habits (
id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
category_id BIGINT REFERENCES categories(id) NOT NULL,
title VARCHAR NOT NULL,
description VARCHAR,
start TIMESTAMP
);